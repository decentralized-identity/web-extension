Promise.all([import("/extension/js/modules/did.js"),import("/extension/js/modules/dom.js"),import("/extension/js/modules/uuid.js"),import("/extension/js/modules/extension-messenger.js")]).then((e=>{let n=document.createElement("script");n.type="module",n.src=chrome.runtime.getURL("extension/page.js"),n.async=!1,document.documentElement.prepend(n);e.default.addListener("requestIdentifier",(async e=>{var n=await DID.getConnection(e.origin);console.log(n);var t=DOM.popup(viewUrl+"/request-did",{title:"Identity - Connect a DID",width:500,height:650,invocationData:{...e},onBeforeUnload:e=>{resolve(t.returnValue||{did:null})}});return console.log("requestIdentifier: ",e),"did:ion:123"}))}));
const $=e=>document.querySelector(e),$$=e=>document.querySelectorAll(e),skipFrame=e=>requestAnimationFrame((()=>requestAnimationFrame(e)));document.addEventListener("pointerdown",(e=>{e.target.setAttribute("pressed",!0)}),{passive:!0}),window.addEventListener("pointerup",(e=>{var t;(t="[pressed]",document.querySelectorAll(t)).forEach((e=>e.removeAttribute("pressed")))}),{passive:!0}),skipFrame((()=>document.documentElement.setAttribute("ready","")));